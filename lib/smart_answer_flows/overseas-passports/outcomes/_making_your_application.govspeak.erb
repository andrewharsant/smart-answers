<% book_appointment_online_countries = %w(kyrgyzstan tajikistan turkmenistan uzbekistan) %>
<% uk_visa_application_centre_countries = %w(afghanistan algeria azerbaijan bangladesh belarus burundi burma cambodia china gaza georgia india indonesia kazakhstan kyrgyzstan laos lebanon mauritania morocco nepal pakistan russia tajikistan thailand turkmenistan ukraine uzbekistan western-sahara vietnam venezuela) %>
<% uk_visa_application_with_colour_pictures = %w(afghanistan azerbaijan algeria bangladesh belarus burma cambodia china georgia india indonesia kazakhstan laos lebanon mauritania morocco nepal pakistan tajikistan thailand turkmenistan ukraine uzbekistan russia vietnam venezuela western-sahara) %>
<% non_uk_visa_application_with_colour_pictures = %w(burma cuba sudan tajikistan turkmenistan uzbekistan) %>

<% if uk_visa_application_centre_countries.include?(current_location) %>
  <% if %w(renewing_new).include?(application_action) %>
    <% if passport_data['application_office'] %>
      <% if %w(laos vietnam).include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
        <%= render partial: 'making_your_application/book_appointment_by_email.govspeak.erb' %>

      <% elsif uk_visa_application_with_colour_pictures.include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% else %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% end %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'making_your_application/send_application_address.govspeak.erb', locals: { current_location: current_location } %>
      <% else %>
        <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
      <% end %>
    <% else %>
      <% if %w(burundi gaza kyrgyzstan).include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% else %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
      <% end %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'shared/overseas_passports_embassies.govspeak.erb', locals: { overseas_passports_embassies: overseas_passports_embassies } %>
      <% else %>
        <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
      <% end %>
    <% end %>
  <% else %>
    <% if passport_data['application_office'] %>
      <% if %w(laos vietnam).include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <%= render partial: 'making_your_application/book_appointment_by_email.govspeak.erb' %>
      <% elsif uk_visa_application_with_colour_pictures.include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% else %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_copy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% end %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'making_your_application/send_application_address.govspeak.erb', locals: { current_location: current_location } %>
      <% else %>
        <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
      <% end %>
    <% else %>
      <% if %w(burundi gaza kyrgyzstan).include?(current_location) %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
        <% end %>
      <% else %>
        ## Making your application

        <%= render partial: 'making_your_application/apply_in_person.govspeak.erb' %>
        <%= render partial: 'making_your_application/bring_originals_and_copy.govspeak.erb' %>
      <% end %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'shared/overseas_passports_embassies.govspeak.erb', locals: { overseas_passports_embassies: overseas_passports_embassies } %>
      <% else %>
        <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
      <% end %>
    <% end %>
  <% end %>
<% elsif %w(timor-leste).include?(current_location) %>
  ## Making your application
  You must submit your passport application through the New Zealand Embassy in Dili.

  <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
  <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
  <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>

  You need to book an appointment - contact the embassy to arrange one.

  <% unless book_appointment_online_countries.include?(current_location) %>
    <%= render partial: 'making_your_application/send_application_address.govspeak.erb', locals: { current_location: current_location } %>
  <% else %>
    <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
  <% end %>
<% elsif general_action == 'renewing' and data_query.renewing_countries?(current_location) %>
  <% if passport_data['application_office'] %>
    <% unless book_appointment_online_countries.include?(current_location) %>
      <%= render partial: 'making_your_application/send_application_address.govspeak.erb', locals: { current_location: current_location } %>
    <% else %>
      <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
    <% end %>
  <% else %>
    <% if non_uk_visa_application_with_colour_pictures.include?(current_location) %>
      ## Making your application

      <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
      <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
      <%= render partial: 'making_your_application/bring_passport_and_full_photocopy.govspeak.erb' %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
      <% end %>
    <% else %>
      <%= render partial: 'making_your_application/send_application_ips.govspeak.erb', locals: { ips_number: ips_number } %>
      <%= render partial: 'making_your_application/renewing_new_renewing_old.govspeak.erb' %>
    <% end %>
    <% unless book_appointment_online_countries.include?(current_location) %>
      <%= render partial: 'shared/overseas_passports_embassies.govspeak.erb', locals: { overseas_passports_embassies: overseas_passports_embassies } %>
    <% else %>
      <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
    <% end %>
  <% end %>
<% else %>
  <% if passport_data['application_office'] %>
    <% unless book_appointment_online_countries.include?(current_location) %>
      <%= render partial: 'making_your_application/send_application_address.govspeak.erb', locals: { current_location: current_location } %>
    <% else %>
      <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
    <% end %>
  <% else %>
    <% if non_uk_visa_application_with_colour_pictures.include?(current_location) %>
      ## Making your application

      <%= render partial: 'making_your_application/apply_in_person_or_via_proxy.govspeak.erb' %>
      <%= render partial: 'making_your_application/bring_originals_and_colour_copy.govspeak.erb' %>
      <% unless book_appointment_online_countries.include?(current_location) %>
        <%= render partial: 'making_your_application/book_appointment_by_email_with_3_dates.govspeak.erb' %>
      <% end %>
    <% else %>
      <%= render partial: 'making_your_application/send_application_ips.govspeak.erb', locals: { ips_number: ips_number } %>
    <% end %>
    <% if %w(st-helena-ascension-and-tristan-da-cunha).include?(current_location) %>
      <% if %w(renewing_new).include?(application_action) %>
        <%= render partial: 'making_your_application/renewing_new_renewing_old.govspeak.erb' %>
      <% end %>
      <%= render partial: 'making_your_application/send_application_address_st_helena_ascension_and_tristan_da_cunha.govspeak.erb' %>
    <% else %>
      <% if ips_number.to_i > 1 %>
        <% unless book_appointment_online_countries.include?(current_location) %>
          <%= render partial: 'shared/overseas_passports_embassies.govspeak.erb', locals: { overseas_passports_embassies: overseas_passports_embassies } %>
        <% else %>
          <%= render partial: 'making_your_application/book_appointment_online.govspeak.erb', locals: { current_location: current_location } %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
